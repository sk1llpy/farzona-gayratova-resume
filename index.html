<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>–†–µ–∑—é–º–µ / Rezyume ‚Äî –ì–∞–π—Ä–∞—Ç–æ–≤–∞ –§–∞—Ä–∑–æ–Ω–∞</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root{
      --bg1:#ffe9f2;          /* blush */
      --bg2:#eae8ff;          /* lavender */
      --ink:#28323c;          /* deep slate */
      --muted:#666c75;
      --accent:#e85b8b;       /* rose */
      --accent-2:#8d7cf0;     /* soft purple */
      --chip:#fff4f8;
      --card:#ffffff;
      --ring: rgba(232,91,139,.25);
      --shadow:0 10px 40px rgba(40,50,60,.12);
      --radius:18px;
      --a4w: 794px;           /* A4 px @96dpi */
      --a4h: 90%;          /* A4 px @96dpi */
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI",
                   Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif;
      color:var(--ink);
      background: radial-gradient(1200px 600px at 10% -10%, var(--bg1), transparent),
                  radial-gradient(1200px 600px at 110% 20%, var(--bg2), transparent),
                  linear-gradient(135deg, #fff, #f9f9ff);
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:16px;
      padding:20px;
    }

    /* Chrome autofill / selection niceties */
    ::selection{background:#ffd9e8}

    .shell{
      width:100%;
      max-width: var(--a4w);
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:14px;
      padding-bottom: 40px;
    }

    /* Action bar */
    .actions{
      top:10px;
      z-index:50;
      display:flex;
      gap:8px;
      flex-wrap:wrap;
      justify-content:center;
    }
    .btn{
      appearance:none; border:0; cursor:pointer;
      padding:11px 16px; border-radius:999px; font-weight:600;
      background:var(--card); color:var(--ink);
      box-shadow: var(--shadow);
      transition:.25s transform, .25s box-shadow, .25s background;
      outline: 2px solid transparent; outline-offset:2px;
    }
    .btn:hover{ transform: translateY(-2px); box-shadow:0 14px 50px rgba(40,50,60,.16) }
    .btn:focus-visible{ outline-color: var(--ring) }
    .btn.ghost{ background:#fff }
    .btn.accent{ background: linear-gradient(90deg, var(--accent), var(--accent-2)); color:#fff }
    .btn.tag{ background:var(--chip); color:#a23c60 }

    /* Resume frame (A4) */
    .resume-frame{
      background:var(--card);
      width:var(--a4w);
      min-height:var(--a4h);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding:40px 44px;
      position:relative;
      overflow:visible;
      isolation:isolate;
      transition: transform .25s ease;
    }

    /* Decorative ribbons */
    .ribbon{
      position:absolute; inset:auto auto 0 0; width:58%;
      height:160px; background: linear-gradient(90deg, #ffd5e6, #eadfff);
      border-top-right-radius: 120px; z-index:-1; filter: blur(30px); opacity:.6;
    }
    .ribbon.r2{ left:auto; right:-20px; bottom:auto; top:-40px; width:55%; height:120px; border-radius:140px }

    header{
      display:grid; grid-template-columns: 88px 1fr; gap:18px; align-items:center;
      margin-bottom:18px;
    }
    .avatar{
      width:88px; height:88px; border-radius:50%; overflow:hidden; background:
        radial-gradient(circle at 30% 30%, #ffd9e8, #e7e3ff);
      display:grid; place-items:center; font-size:28px; color:#a23c60; font-weight:800;
      border:2px solid #fff; box-shadow:0 6px 24px rgba(232,91,139,.25);
    }

    h1{
      font-size:28px; margin:0 0 6px 0; letter-spacing:.2px;
    }
    .subtitle{
      display:flex; gap:10px; flex-wrap:wrap; color:var(--muted); font-size:14px;
    }
    .chip{
      background:var(--chip);
      padding:6px 10px; border-radius:999px; border:1px solid #ffd5e6;
    }

    .info{
      display:grid; grid-template-columns: 1fr 1fr; gap:10px 18px;
      font-size:14px; color:#3b424b; margin:12px 0 6px;
    }
    .info div{ display:flex; gap:8px; align-items:flex-start }

    section{ margin:16px 0 }
    section h2{
      font-size:16px; margin:0 0 10px 0; color:#8a3d60;
      display:inline-flex; align-items:center; gap:8px; padding:6px 12px;
      border-radius:999px; background:linear-gradient(90deg,#fff3f7,#f4f1ff);
      border:1px solid #ffe3ee;
    }

    ul{ margin:0; padding-left:18px }
    li{ margin:6px 0; line-height:1.45 }
    .card{
      border:1px solid #f6d6e2; background:#fff; border-left:4px solid var(--accent);
      padding:10px 12px; border-radius:12px; margin:8px 0;
    }

    .grid-2{ display:grid; grid-template-columns:1fr 1fr; gap:14px }
    .skills{ display:flex; flex-wrap:wrap; gap:8px }
    .pill{
      border:1px solid #ffe0ea; background: #fff; padding:6px 10px; border-radius:999px;
      font-size:13px;
    }

    .footer{ margin-top:12px; text-align:center; font-size:12px; color:#8a8f96 }

    /* Language blocks */
    .lang{ display:none }
    .lang.active{ display:block }

    /* Responsive */
    @media (max-width: 860px){
      .resume-frame{ width:100%; padding:26px 20px }
      header{ grid-template-columns: 64px 1fr }
      .avatar{ width:64px; height:64px; font-size:22px }
      h1{ font-size:22px }
      .info{ grid-template-columns:1fr; }
      .grid-2{ grid-template-columns:1fr }
    }

    /* Print styles for crisp single-page */
    @media print{
      body{ background:#fff; padding:0; }
      .actions{ display:none !important }
      .resume-frame{
        width: 210mm; min-height: 297mm; padding:14mm 16mm;
        box-shadow:none; border-radius:0;
      }
    }
  </style>
</head>
<body>
  <div class="shell">
    <!-- Actions -->
    <div class="actions" role="toolbar" aria-label="Actions">
      <button class="btn tag" onclick="switchLang('ru')" id="btn-ru">üá∑üá∫ –†—É—Å—Å–∫–∏–π</button>
      <button class="btn tag" onclick="switchLang('uz')" id="btn-uz">üá∫üáø O‚Äòzbekcha</button>
      <button class="btn accent" onclick="savePDF()" id="btn-save">üì• Saqlash PDF</button>
    </div>

    <!-- Resume (A4 frame) -->
    <div id="resume" class="resume-frame">
      <div class="ribbon"></div><div class="ribbon r2"></div>

      <!-- RU -->
      <article id="ru" class="lang active" lang="ru">
        <header>
          <div class="avatar" aria-hidden="true">GF</div>
          <div>
            <h1>–ì–∞–π—Ä–∞—Ç–æ–≤–∞ –§–∞—Ä–∑–æ–Ω–∞ –ö–æ–º–∏–ª –∫–∏–∑–∏</h1>
            <div class="subtitle">
              <span class="chip">–†–µ–∑—é–º–µ</span>
              <span class="chip">–ö–ª–∏–µ–Ω—Ç–æ–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å</span>
              <span class="chip">–î–∏–∑–∞–π–Ω&nbsp;&middot;&nbsp;–ü—Ä–æ–¥–∞–∂–∏</span>
            </div>
          </div>
        </header>

        <div class="info">
          <div>üìÖ <b>–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è:</b>&nbsp;08.07.2007 (18 –ª–µ—Ç)</div>
          <div>üìç <b>–ê–¥—Ä–µ—Å:</b>&nbsp;–¢–∞—à–∫–µ–Ω—Ç, –û–ª–º–∞–∑–æ—Ä, —É–ª. –ë–µ—Ä—É–Ω–∏–π—à–æ—Ö (–º. –¢–∏–Ω—á–ª–∏–∫)</div>
          <div>üìû <b>–¢–µ–ª–µ—Ñ–æ–Ω:</b>&nbsp;+998 88-711-48-84</div>
          <div>‚úâÔ∏è <b>Telegram:</b>&nbsp;@kamiloffam</div>
          <div>üåç <b>–ù–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:</b>&nbsp;—É–∑–±–µ—á–∫–∞</div>
        </div>

        <section>
          <h2>üéì –û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ</h2>
          <div class="card">–†–µ—Å–ø—É–±–ª–∏–∫–∞–Ω—Å–∫–∏–π –∫–æ–ª–ª–µ–¥–∂ –¥–∏–∑–∞–π–Ω–∞ ‚Äî —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å ¬´–¥–∏–∑–∞–π–Ω¬ª, –≤—ã–ø—É—Å–∫–Ω–∏—Ü–∞</div>
          <div class="card">Cambridge Learning Centre ‚Äî –∫—É—Ä—Å—ã –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —è–∑—ã–∫–∞ (—É—Ä–æ–≤–µ–Ω—å B1)</div>
          <div class="card">–°—Ä–µ–¥–Ω–µ–µ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ (—à–∫–æ–ª–∞)</div>
        </section>

        <section class="grid-2">
          <div>
            <h2>üíº –û–ø—ã—Ç —Ä–∞–±–æ—Ç—ã</h2>
            <ul>
              <li><b>SAAF Couture</b> ‚Äî –º–∞–≥–∞–∑–∏–Ω –∂–µ–Ω—Å–∫–æ–π –æ–¥–µ–∂–¥—ã, –ø—Ä–æ–¥–∞–≤–µ—Ü (1 –≥–æ–¥)</li>
              <li>–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è –∏ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–æ–≤, –¥–æ–ø—Ä–æ–¥–∞–∂–∏</li>
              <li>–ü–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –º–µ—Ä—á–∞–Ω–¥–∞–π–∑–∏–Ω–≥–∞, –ø–æ—Ä—è–¥–æ–∫ –≤ –∑–∞–ª–µ</li>
              <li><b>Shine Skin</b> ‚Äî call-center –æ–ø–µ—Ä–∞—Ç–æ—Ä (2 –º–µ—Å—è—Ü–∞)</li>
              <li>–ü—Ä–∏—ë–º/–æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ–±—Ä–∞—â–µ–Ω–∏–π, –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É</li>
              <li>–†–∞–±–æ—Ç–∞ –≤ CRM (AMO CRM), —Ñ–∏–∫—Å–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤</li>
            </ul>
          </div>
          <div>
            <h2>üõ† –ù–∞–≤—ã–∫–∏</h2>
            <div class="skills">
              <span class="pill">–ö–æ–º–º—É–Ω–∏–∫–∞–±–µ–ª—å–Ω–æ—Å—Ç—å</span>
              <span class="pill">–†–∞–±–æ—Ç–∞ –≤ –∫–æ–º–∞–Ω–¥–µ</span>
              <span class="pill">–†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º</span>
              <span class="pill">–ü–ö-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</span>
              <span class="pill">AMO CRM</span>
              <span class="pill">–í–∏–∑—É–∞–ª—å–Ω—ã–π –≤–∫—É—Å</span>
            </div>

            <h2 style="margin-top:12px">üåê –Ø–∑—ã–∫–∏</h2>
            <div class="skills">
              <span class="pill">–£–∑–±–µ–∫—Å–∫–∏–π ‚Äî —Ä–æ–¥–Ω–æ–π</span>
              <span class="pill">–†—É—Å—Å–∫–∏–π ‚Äî —Å–≤–æ–±–æ–¥–Ω–æ</span>
              <span class="pill">–ê–Ω–≥–ª–∏–π—Å–∫–∏–π ‚Äî B1</span>
            </div>

            <h2 style="margin-top:12px">‚ûï –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ</h2>
            <ul>
              <li>–ò–Ω—Ç–µ—Ä–µ—Å—ã: IT, –¥–∏–∑–∞–π–Ω, –º–æ–¥–∞</li>
              <li>–ê–∫—Ç–∏–≤–Ω–∞—è, –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–∞—è, –Ω–∞—Ü–µ–ª–µ–Ω–∞ –Ω–∞ —Ä–æ—Å—Ç</li>
            </ul>
          </div>
        </section>

        <div class="footer">¬© 2025 –†–µ–∑—é–º–µ ‚Äî –ì–∞–π—Ä–∞—Ç–æ–≤–∞ –§–∞—Ä–∑–æ–Ω–∞</div>
      </article>

      <!-- UZ -->
      <article id="uz" class="lang" lang="uz">
        <header>
          <div class="avatar" aria-hidden="true">GF</div>
          <div>
            <h1>G‚Äòayratova Farzona Komil qizi</h1>
            <div class="subtitle">
              <span class="chip">Rezyume</span>
              <span class="chip">Mijozga yo‚Äònaltirilgan</span>
              <span class="chip">Dizayn&nbsp;&middot;&nbsp;Savdo</span>
            </div>
          </div>
        </header>

        <div class="info">
          <div>üìÖ <b>Tug‚Äòilgan sana:</b>&nbsp;08.07.2007 (18 yosh)</div>
          <div>üìç <b>Manzil:</b>&nbsp;Toshkent, Olmazor, Beruniyshoh ko‚Äòchasi (Tinchlik metrosi)</div>
          <div>üìû <b>Telefon:</b>&nbsp;+998 88-711-48-84</div>
          <div>‚úâÔ∏è <b>Telegram:</b>&nbsp;@kamiloffam</div>
          <div>üåç <b>Millati:</b>&nbsp;o‚Äòzbek</div>
        </div>

        <section>
          <h2>üéì Ta‚Äôlim</h2>
          <div class="card">Respublika dizayn kolleji ‚Äî ‚Äúdizayn‚Äù yo‚Äònalishi, bitiruvchi</div>
          <div class="card">Cambridge Learning Centre ‚Äî Ingliz tili kurslari (B1)</div>
          <div class="card">O‚Äòrta ma‚Äôlumot (maktab)</div>
        </section>

        <section class="grid-2">
          <div>
            <h2>üíº Ish tajribasi</h2>
            <ul>
              <li><b>SAAF Couture</b> ‚Äî ayollar kiyim do‚Äòkoni, sotuvchi (1 yil)</li>
              <li>Mijozlarni maslahatlash va kuzatish, qo‚Äòshimcha savdo</li>
              <li>Vitrina va zaldagi tartibni saqlash</li>
              <li><b>Shine Skin</b> ‚Äî call-center operatori (2 oy)</li>
              <li>Murojaatlarni qabul qilish va qayta ishlash, telefon orqali maslahat</li>
              <li>CRM (AMO CRM) bilan ishlash, natijalarni qayd etish</li>
            </ul>
          </div>
          <div>
            <h2>üõ† Ko‚Äònikmalar</h2>
            <div class="skills">
              <span class="pill">Muloqotchanlik</span>
              <span class="pill">Jamoada ishlash</span>
              <span class="pill">Muammo yechish</span>
              <span class="pill">Kompyuterda ishlash</span>
              <span class="pill">AMO CRM</span>
              <span class="pill">Vizuallik didi</span>
            </div>

            <h2 style="margin-top:12px">üåê Tillar</h2>
            <div class="skills">
              <span class="pill">O‚Äòzbek ‚Äî ona tili</span>
              <span class="pill">Rus ‚Äî bemalol</span>
              <span class="pill">Ingliz ‚Äî B1</span>
            </div>

            <h2 style="margin-top:12px">‚ûï Qo‚Äòshimcha</h2>
            <ul>
              <li>Qiziqishlar: IT, dizayn, moda</li>
              <li>Faol, mas‚Äôuliyatli, o‚Äòsishga intiladi</li>
            </ul>
          </div>
        </section>

        <div class="footer">¬© 2025 Rezyume ‚Äî G‚Äòayratova Farzona</div>
      </article>
    </div>
  </div>

  <!-- html2pdf.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
  <script>
    const A4_W = 794;   // px at 96dpi
    const A4_H = 1123;  // px at 96dpi
    const resumeEl = document.getElementById('resume');
    let compact = false;

    function switchLang(lang){
      document.querySelectorAll('.lang').forEach(el=>el.classList.remove('active'));
      document.getElementById(lang).classList.add('active');
      // Update active button style
      document.getElementById('btn-ru').classList.toggle('accent', lang==='ru');
      document.getElementById('btn-uz').classList.toggle('accent', lang==='uz');
    }

    /**
     * Auto-scale the A4 frame to ensure single-page export.
     * Steps:
     * 1) Measure full content height
     * 2) Compute scale if taller than A4
     * 3) Apply CSS transform to fit exactly one page
     * 4) Render with high scale for sharpness
     */
    function scaleToA4(){
      // Reset any previous scaling
      resumeEl.style.transform = 'none';
      resumeEl.style.transformOrigin = 'top left';
      resumeEl.style.width = A4_W + 'px';
      resumeEl.style.minHeight = A4_H + 'px';

      // Measure real content height
      const rect = resumeEl.getBoundingClientRect();
      const currentH = resumeEl.scrollHeight; // more accurate for overflow

      // Compute scale if needed
      const scale = Math.min(1, A4_H / currentH);
      resumeEl.dataset._scale = scale.toFixed(4);

      if (scale < 1){
        resumeEl.style.transform = `scale(${scale})`;
        // When scaled down, canvas capture uses visible pixels,
        // so increase virtual height to avoid clipping:
        resumeEl.style.height = (currentH * scale) + 'px';
      }else{
        resumeEl.style.height = '';
      }
      return scale;
    }

    function activeLang(){
      return document.querySelector('.lang.active')?.id || 'ru';
    }

    function filenameForLang(){
      const lang = activeLang();
      return lang === 'uz' ? 'rezyume-farzona.pdf' : 'resume-farzona.pdf';
    }

    async function savePDF(){
      // Ensure we fit exactly one page
      const appliedScale = scaleToA4();

      // High-quality render
      const opt = {
        margin:       0,
        filename:     filenameForLang(),
        image:        { type: 'jpeg', quality: 1 },
        html2canvas:  { scale: 4, useCORS: true, letterRendering: true },
        jsPDF:        { unit: 'pt', format: 'a4', orientation: 'portrait', compress: true },
        pagebreak:    { mode: ['avoid-all','css','legacy'] }
      };

      // Some browsers need a tick for transform to settle
      await new Promise(r => requestAnimationFrame(()=>r()));

      html2pdf().set(opt).from(resumeEl).save().then(()=>{
        // Restore visual state for on-screen viewing
        resumeEl.style.transform = 'none';
        resumeEl.style.height = '';
      }).catch(()=>{
        resumeEl.style.transform = 'none';
        resumeEl.style.height = '';
      });
    };

    // Nice: make RU active tag styled on load
    document.getElementById('btn-ru').classList.add('accent');

    // Optional: shrink slightly on tiny phones so it fits the viewport more elegantly
    const mq = matchMedia('(max-width:420px)');
    function fitSmall(){
      // Only affect on-screen preview
      resumeEl.style.transition = 'transform .25s ease';
      if(mq.matches){
        resumeEl.style.transform = 'scale(0.92)';
        resumeEl.style.transformOrigin = 'top center';
      }else{
        resumeEl.style.transform = 'none';
      }
    }
    mq.addEventListener?.('change', fitSmall);
    fitSmall();
  </script>
</body>
</html>
